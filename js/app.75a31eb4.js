(function(e){function t(t){for(var r,o,s=t[0],u=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/football-shirt/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"21bb":function(e,t,n){"use strict";n("2dad")},"2dad":function(e,t,n){},"3f07":function(e,t,n){e.exports=n.p+"fonts/AmaticSC-Regular.bc94a100.ttf"},"65f0b":function(e,t,n){e.exports=n.p+"img/blank-template.749d1603.jpg"},"7c96":function(e,t,n){e.exports=n.p+"fonts/Raleway-Regular.580d0778.ttf"},8600:function(e,t,n){e.exports=n.p+"fonts/SEASRN__.d752c6b5.ttf"},c406:function(e,t,n){var r={"./AmaticSC-Regular.ttf":"3f07","./JosefinSans-Regular.ttf":"d262","./Raleway-Regular.ttf":"7c96","./SEASRN__.ttf":"8600"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="c406"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center text-h4 font-weight-bold"},[e._v(" Make Your Own Shirt ")]),n("v-spacer"),n("div")],1),n("v-main",[n("router-view")],1)],1)},i=[],o=r["default"].extend({name:"App",data:function(){return{}}}),s=o,u=n("2877"),l=n("6544"),c=n.n(l),d=n("7496"),p=n("40dc"),f=n("f6c4"),v=n("2fa4"),h=Object(u["a"])(s,a,i,!1,null,null,null),m=h.exports;c()(h,{VApp:d["a"],VAppBar:p["a"],VMain:f["a"],VSpacer:v["a"]});var b=n("8c4f"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"mt-6"},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"5",xl:"4"}},[r("v-card",{class:{"sticky-preview":e.isStickyPreview},attrs:{flat:"",outlined:"",id:"preview-image-wrap"}},[r("div",{staticClass:"d-flex"},[0!==e.previewWrapperWidth?r("v-card",{attrs:{flat:"",width:e.previewWrapperWidth,height:e.previewWrapperWidth}},[r("v-img",{staticClass:"preview-image",attrs:{src:n("65f0b"),width:e.previewWrapperWidth,height:e.previewWrapperWidth,"aspect-ratio":1}}),r("VueDraggableResizable",{staticClass:"preview-image",attrs:{w:"auto",h:"auto",x:e.previewPosition.number.x,y:e.previewPosition.number.y,resizable:!1},on:{dragging:e.dragNumber}},[r("div",{style:e.previewStyle("number"),attrs:{id:"draggable-number"}},[e._v(" "+e._s(e.playerInfo.number)+" ")])]),r("VueDraggableResizable",{staticClass:"preview-image",attrs:{w:"auto",h:"auto",x:e.previewPosition.name.x,y:e.previewPosition.name.y,resizable:!1},on:{dragging:e.dragName}},[r("div",{style:e.previewStyle("name"),attrs:{id:"draggable-name"}},[e._v(" "+e._s(e.playerInfo.name)+" ")])]),r("v-img",{staticStyle:{"z-index":"-10"},attrs:{width:e.previewWrapperWidth,height:e.previewWrapperWidth}})],1):e._e()],1)])],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"7",xl:"8"}},[r("v-card",{attrs:{flat:"",outlined:""}},[r("v-card",{staticClass:"setting-option ma-4 pa-4",attrs:{flat:"",outlined:""}},[r("v-row",{staticClass:"player-info font-weight-bold text-center"},[r("v-col",{attrs:{cols:"6"}},[e._v(" Player number ")]),r("v-col",{attrs:{cols:"6"}},[e._v(" Display name ")])],1),r("v-row",{staticClass:"player-info"},[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",type:"number","hide-details":!0},model:{value:e.playerInfo.number,callback:function(t){e.$set(e.playerInfo,"number",e._n(t))},expression:"playerInfo.number"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",type:"text","hide-details":!0},model:{value:e.playerInfo.name,callback:function(t){e.$set(e.playerInfo,"name",e._n(t))},expression:"playerInfo.name"}})],1)],1)],1),e.currentFontEdit?r("v-card",{staticClass:"setting-option ma-4 pa-4",attrs:{flat:"",outlined:""}},[r("div",{staticClass:"font-weight-bold"},[e._v(" Editing player "+e._s(e.currentFontEditLabel)+" ")]),r("div",{staticClass:"d-flex toggle-edit"},[r("v-btn",{attrs:{elevation:"1",disabled:"name"===e.currentFontEditLabel},on:{click:function(t){e.currentFontEditLabel="name"}}},[e._v(" Player name ")]),r("v-btn",{attrs:{elevation:"1",disabled:"number"===e.currentFontEditLabel},on:{click:function(t){e.currentFontEditLabel="number"}}},[e._v(" Player number ")])],1),r("v-row",{staticClass:"d-flex",attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"3"}},[e._v("Color:")]),r("v-col",{staticClass:"preview-color pt-1",attrs:{cols:"8"}},[r("input",{directives:[{name:"debounce",rawName:"v-debounce:30",value:e.setFontColor,expression:"setFontColor",arg:"30"}],attrs:{type:"color",id:"color-picker",value:"#ffffff"}})])],1),r("v-row",{staticClass:"font-option"},[r("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[r("v-autocomplete",{attrs:{outlined:"",items:e.fontOptions,label:"Choose font"},scopedSlots:e._u([{key:"append-item",fn:function(){return[r("v-divider"),r("v-file-input",{staticClass:"upload-font",attrs:{rules:e.imageRule,outlined:"",accept:".ttf",placeholder:"Or upload a .ttf font","prepend-icon":"mdi-format-font","hide-details":"auto","error-messages":e.uploadFontErrorMessage},on:{change:e.uploadFont},model:{value:e.newFont,callback:function(t){e.newFont=t},expression:"newFont"}})]},proxy:!0}],null,!1,1457783043),model:{value:e.currentFontEdit.font,callback:function(t){e.$set(e.currentFontEdit,"font",t)},expression:"currentFontEdit.font"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[r("v-text-field",{attrs:{outlined:"",label:"Font size",placeholder:"Font size",type:"number","hide-details":"auto"},model:{value:e.currentFontEdit.fontSize,callback:function(t){e.$set(e.currentFontEdit,"fontSize",t)},expression:"currentFontEdit.fontSize"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[r("v-text-field",{attrs:{outlined:"",label:"Text height",placeholder:"Text height",type:"number","hide-details":"auto"},model:{value:e.currentFontEdit.height,callback:function(t){e.$set(e.currentFontEdit,"height",t)},expression:"currentFontEdit.height"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[r("v-text-field",{attrs:{outlined:"",label:"Width offset",placeholder:"Width offset",type:"number","hide-details":"auto"},model:{value:e.currentFontEdit.widthOffset,callback:function(t){e.$set(e.currentFontEdit,"widthOffset",t)},expression:"currentFontEdit.widthOffset"}})],1)],1)],1):e._e()],1)],1)],1)],1)},w=[],y=n("1da1"),x=n("d4ec"),k=n("bee2"),F=n("262e"),O=n("2caf"),E=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("ac1f"),n("a15b"),n("fb6a"),n("25f0"),n("b0c0"),n("159b"),n("1276"),n("99af"),n("96cf"),n("9ab4")),P=n("1b40"),W=n("30e8"),C=function e(){Object(x["a"])(this,e),this.baseImage="",this.name={color:[255,255,255],font:"AmaticSC-Regular",height:1100,widthOffset:0,fontSize:55,curve:{applyCurve:!0,curvature:30,curveDirection:"up"}},this.number={color:[255,255,255],font:"JosefinSans-Regular",height:705,widthOffset:0,fontSize:250,curve:{applyCurve:!1,curvature:10,curveDirection:"up"}}},S=function e(){Object(x["a"])(this,e),this["name"]="Messi",this["number"]=10},j=n("d1d6"),R=n.n(j),_=n("fb19");r["default"].use(R.a,{lock:!0,defaultTime:"400ms",listenTo:"input"});var I=function(e){Object(F["a"])(a,e);var t=Object(O["a"])(a);function a(){var e;return Object(x["a"])(this,a),e=t.apply(this,arguments),e.uploadBaseImageErrorMessage="",e.uploadFontErrorMessage="",e.setting=new C,e.isStickyPreview=!1,e.previewWrapperWidth=0,e.imageRule=[function(e){return!e||e.size<1e6||"Image size needs to be less than 1 MB!"}],e.playerInfo=new S,e.newImage={template:null,keeperTemplate:null},e.newFont=null,e.currentFontEditLabel="name",e.fontLabels=["number","name"],e.previewPosition={number:{x:0,y:0},name:{x:0,y:0}},e.previewBaseImage=n("65f0b"),e}return Object(k["a"])(a,[{key:"created",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setStickyPreview(),e.next=3,this.loadFonts();case 3:return e.next=5,this.setPreviewWrapper();case 5:return e.next=7,this.setPreviewPosition();case 7:window.addEventListener("resize",this.onContainerWidthChanged);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){window.removeEventListener("resize",this.onContainerWidthChanged)}},{key:"loadFonts",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.fontOptions.map(function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FontFace(t,"url(".concat(n("c406")("./"+t+".ttf"),")")),e.t0=document.fonts,e.next=4,r.load();case 4:e.t1=e.sent,e.t0.add.call(e.t0,e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setFontColor",value:function(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);n&&(this.currentFontEdit.color=[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)])}},{key:"previewStyle",value:function(e){return{fontSize:this.setting[e].fontSize/960*this.previewWrapperWidth+"px",color:"rgb(".concat(this.setting[e].color.join(", "),")"),fontFamily:'"'.concat(this.fontFamily[e],'"'),webkitTextStroke:"#622 0.5px"}}},{key:"setStickyPreview",value:function(){var e=this.$vuetify.breakpoint;this.isStickyPreview=!(e.xs||e.sm)}},{key:"onContainerWidthChanged",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:return e.next=4,this.setPreviewWrapper();case 4:this.setPreviewPosition();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPreviewWrapper",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["default"].nextTick();case 2:this.previewWrapperWidth=(null===(t=document.getElementById("preview-image-wrap"))||void 0===t?void 0:t.clientWidth)||0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dragNumber",value:function(e,t){this.onDrag(e,t,"number")}},{key:"dragName",value:function(e,t){this.onDrag(e,t,"name")}},{key:"onDrag",value:function(e,t,n){var r=this.setting[n],a=this.previewEditable[n];a&&(r.height=Math.round((t+.42*a.clientHeight)/this.previewWrapperWidth*1920),r.widthOffset=Math.round((e+a.clientWidth/2-this.previewWrapperWidth/2)/this.previewWrapperWidth*960))}},{key:"previewEditable",get:function(){return{number:document.getElementById("draggable-number"),name:document.getElementById("draggable-name")}}},{key:"baseImages",get:function(){return this.$store.getters["mockup/editMockup/getBaseImages"]}},{key:"currentFontEdit",get:function(){return this.setting[this.currentFontEditLabel]}},{key:"onCurrentFontEditChanged",value:function(){var e=document.getElementById("color-picker"),t=this.currentFontEdit.color;e&&(e.value="#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1)),this.setPreviewPosition()}},{key:"fontFamily",get:function(){return{number:this.setting.number.font,name:this.setting.name.font}}},{key:"setPreviewPosition",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["default"].nextTick();case 2:this.fontLabels.forEach((function(e){var n=t.previewEditable[e];n&&(t.previewPosition[e].x=Math.round(t.setting[e].widthOffset/960*t.previewWrapperWidth+t.previewWrapperWidth/2-n.clientWidth/2),t.previewPosition[e].y=Math.round(t.setting[e].height/1920*t.previewWrapperWidth-.42*n.clientHeight))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPlayerInfoPosition",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setPreviewPosition();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"uploadFont",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=24;break}if(this.fontOptions.some((function(e){return e===t.name}))){e.next=22;break}return n=t.name.split(".").slice(0,-1).join("."),e.t0=FontFace,e.t1=n,e.next=7,t.arrayBuffer();case 7:return e.t2=e.sent,r=new e.t0(e.t1,e.t2),e.t3=console,e.next=12,r.load();case 12:return e.t4=e.sent,e.t3.log.call(e.t3,e.t4),e.t5=document.fonts,e.next=17,r.load();case 17:return e.t6=e.sent,e.t5.add.call(e.t5,e.t6),this.currentFontEdit.font=n,this.uploadFontErrorMessage="",e.abrupt("return");case 22:this.uploadFontErrorMessage="Font file ".concat(t.name," already existed. Please rename the file before uploading."),this.newFont=null;case 24:this.currentFontEdit.font="AmaticSC-Regular";case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fontOptions",get:function(){var e=["AmaticSC-Regular","JosefinSans-Regular","Raleway-Regular","SEASRN__"];return this.newFont?[].concat(e,[this.newFont.name.split(".").slice(0,-1).join(".")]):e}}]),a}(r["default"]);Object(E["a"])([Object(W["a"])(50)],I.prototype,"onDrag",null),Object(E["a"])([Object(P["b"])("currentFontEdit",{deep:!0})],I.prototype,"onCurrentFontEditChanged",null),Object(E["a"])([Object(P["b"])("fontFamily",{deep:!0})],I.prototype,"setPreviewPosition",null),Object(E["a"])([Object(P["b"])("playerInfo",{deep:!0})],I.prototype,"setPlayerInfoPosition",null),I=Object(E["a"])([Object(P["a"])({components:{VueDraggableResizable:_}})],I);var z=I,M=z,V=(n("21bb"),n("c6a6")),T=n("8336"),D=n("b0af"),A=n("62ad"),L=n("a523"),$=n("ce7e"),B=n("23a7"),N=n("adda"),J=n("0fd9"),H=n("8654"),U=Object(u["a"])(M,g,w,!1,null,null,null),Y=U.exports;c()(U,{VAutocomplete:V["a"],VBtn:T["a"],VCard:D["a"],VCol:A["a"],VContainer:L["a"],VDivider:$["a"],VFileInput:B["a"],VImg:N["a"],VRow:J["a"],VTextField:H["a"]}),r["default"].use(b["a"]);var q=[{path:"/",name:"Home",component:Y}],G=new b["a"]({mode:"history",base:"/football-shirt/",routes:q}),K=G,Q=n("2f62");r["default"].use(Q["a"]);var X=new Q["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Z=n("f309");r["default"].use(Z["a"]);var ee=new Z["a"]({});r["default"].config.productionTip=!1,new r["default"]({router:K,store:X,vuetify:ee,render:function(e){return e(m)}}).$mount("#app")},d262:function(e,t,n){e.exports=n.p+"fonts/JosefinSans-Regular.aff001b4.ttf"}});
//# sourceMappingURL=app.75a31eb4.js.map